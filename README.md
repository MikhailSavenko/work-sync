# Work-Sync API: Система управления бизнесом

## Описание проекта

Work-Sync API — это упрощённая веб-система для управления командами внутри компании, разработанная для автоматизации ключевых бизнес-процессов. Проект реализован как API c понятной архитектурой, без использования микросервисов. Его цель — предоставить базовый функционал для эффективного взаимодействия и отслеживания работы внутри компании.

## Возможности системы (Функциональность API)

Система Work-Sync API предоставляет следующие возможности:

### 1. Управление Пользователями

* **Регистрация:** Регистрация новых пользователей с использованием email и пароля.
* **Авторизация/Выход:** Вход в систему и выход.
* **Роли:** Поддержка различных ролей для пользователей: "Обычный пользователь" (Normal User), "Менеджер" (Manager), "Админ команды" (Admin Team).
* **Профиль:** Обновление пользовательского профиля.
* **Удаление аккаунта:** Удаление аккаунта пользователя (без возможности восстановления).

### 2. Управление Командами

* **Создание/Управление:** Администраторы команд могут создавать и управлять командами/компаниями.
* **Участники:** Добавление и удаление пользователей в команде.
* **Просмотр состава:** Просмотр списка всех участников команды.
* **Назначение ролей:** Назначение ролей (менеджер, сотрудник) членам команды.

### 3. Управление Задачами

* **Создание:** Руководители могут создавать новые задачи.
* **Исполнитель:** Назначение исполнителя для задачи.
* **Атрибуты:** Каждая задача имеет название (`title`), подробное описание (`description`), крайний срок выполнения (`deadline`) и текущий статус (`status`).
* **Изменение/Удаление:** Возможность изменять и удалять задачи.
* **Комментарии:** Упрощенная система комментариев для каждой задачи (подобие внутреннего чата).
* **Статусы:** Задачи могут находиться в следующих статусах: "Открыто" (Open), "В работе" (At Work), "Выполнено" (Done).

### 4. Оценка Работы

* **Оценка задач:** Руководители могут оценивать выполненные задачи по шкале от 1 до 5 баллов.
* **Просмотр оценок:** Пользователи могут видеть свои полученные оценки.
* **Средняя оценка:** Вывод средней оценки за определенный период.

### 5. Управление Встречами

* **Назначение:** Создание встреч с указанием даты, времени и списка участников.
* **Проверка времени:** Система проверяет, чтобы назначаемые встречи не накладывались на уже существующие события участников.
* **Список встреч:** Просмотр списка всех своих встреч.
* **Отмена встречи:** Возможность отменить запланированную встречу.

### 6. Календарь

* **Отображение событий:** Простое отображение задач и встреч по дням.
* **Виды:** Поддержка месячного и дневного вида событий в виде JSON-набора данных, а также полe с текстовой таблицей.
* **Автоматизация:** Автоматическое добавление новых задач и встреч в календарь.

### 7. Админ-панель

* Используется стандартная панель администратора Django Admin для удобного управления пользователями, командами и задачами.

## Используемый Стек Технологий

### Backend

* **Язык:** Python 3
* **Фреймворк:** `Django==5.2.1`
* **API:** `djangorestframework==3.16.0`
* **Аутентификация/Авторизация:** `djoser==2.3.1` и `djangorestframework-simplejwt==5.5.0`
* **Документация API:** `drf-yasg==1.21.10` (OpenAPI, Swagger UI, Redoc)
* **Роутеры:** `drf-nested-routers==0.94.2`
* **WSGI HTTP Server:** `gunicorn==23.0.0`
* **База данных:** PostgreSQL (через образ `postgres:17-alpine`)
* **Драйвер БД:** `psycopg2-binary==2.9.10`
* **Управление переменными окружения:** `python-dotenv==1.1.1`
* **Вспомогательные утилиты:** `tabulate==0.9.0`, `factory_boy==3.3.3`, `flake8==7.3.0`, `black==25.1.0`, `isort==6.0.1`

### Структура Моделей (Краткий обзор)

Проект включает следующие ключевые модели с их связями:

* **`User`**: Кастомизированная модель пользователя на базе `AbstractUser`, использующая email в качестве `USERNAME_FIELD`.
* **`Worker`**: Расширяет модель `User`, добавляя поле `role` (Normal, Manager, Admin Team) и `team`.
* **`Team`**: Модель для представления команд, включает название, описание и ссылку на создателя (`Worker`).
* **`Task`**: Модель для задач с полями `title`, `description`, `deadline`, `status`, `executor` и `creator` (оба `Worker`).
* **`Evaluation`**: Модель для оценки задач, содержит `score`, `task`, `to_worker` и `from_worker`.
* **`Comment`**: Модель для комментариев к задачам, с полями `task`, `text`, `creator`.
* **`Meeting`**: Модель для встреч, включает `description`, `datetime`, `creator` и `workers` (`ManyToManyField` через `MeetingWorker`).
* **`MeetingWorker`**: Промежуточная модель для связи `Meeting` и `Worker`.

### Реализация API и Других Компонентов

* **API Endpoints:** Реализованы CRUD-операции на вьюсетах (ViewSets) и миксинах Django REST Framework для всех основных сущностей.
* **Авторизация:** Применены базовые пермишшены по ролям к эндпоинтам для контроля доступа.
* **Документация:** OpenAPI документация с интерактивными интерфейсами Swagger UI и Redoc доступна по эндпоинтам `/swagger/` и `/redoc/`.
* **Тестирование:** Написаны сервисные и API функциональные тесты для всех методов.

## Развёртывание с использованием Docker Compose

Проект разработан для развёртывания в Docker-контейнерах с помощью Docker Compose, что обеспечивает изолированную, масштабируемую и воспроизводимую среду разработки и продакшена.

### Быстрый старт (Локальная разработка)

Для локальной разработки и тестирования проекта:

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/MikhailSavenko/work-sync
    cd work-sync
    ```

2.  **Создайте файл `.env`:**
    В корневой директории вашего проекта создайте файл `.env` и заполните его переменными из файла `.env.example`. Это обеспечит корректную работу приложения и базы данных, а также позволит автоматически создать суперпользователя при первом запуске.

3.  **Запустите Docker Compose:**
    ```bash
    docker compose up --build -d
    ```
    Эта команда соберет Docker-образы (если необходимо), запустит все сервисы в фоновом режиме, выполнит миграции базы данных и создаст суперпользователя (если он еще не существует).

4.  **Доступ к приложению:**
    После успешного запуска сервисов вы сможете получить доступ к вашему приложению:

    * **Базовый URL API (через Nginx):** `http://localhost/api/v1/`
    * **Документация Swagger UI:** `http://localhost/swagger/`
    * **Документация Redoc:** `http://localhost/redoc/`
    * **Панель администратора Django:** `http://localhost/admin/` (используйте учетные данные суперпользователя из `.env`)